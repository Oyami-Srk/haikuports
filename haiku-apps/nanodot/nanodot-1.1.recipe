SUMMARY="Binary & source for a simple MIDI sequencer"
DESCRIPTION="\
              nanodot is a rather minimal pattern-based MIDI\n\
               sequencer for BeOS R3. Its main purpose in life\n\
               was/is to teach me (and hopefully others) the\n\
               basics of writing MIDI apps for BeOS; it makes\n\
               for a nice drum-programming 'scratchpad', and is a\n\
               generally entertaining way to waste a few hours."
HOMEPAGE="https://github.com/HaikuArchives/NanoDot"
COPYRIGHT="1999 Eric Moon"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="git+https://github.com/HaikuArchives/NanoDot"

ARCHITECTURES="x86 x86_gcc2 x86_64"

PROVIDES="
	nanodot = $portVersion
	app:nanodot = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_REQUIRES="
	haiku_devel
	"

BUILD_PREREQUIRES="
	cmd:gcc
	"
PATCHES="nanodot-1.1.patchset"

BUILD()
{
	cd src
	gcc -c *.cpp
	gcc -o nanodot *.o -lbe -lmidi -lstdc++
}

INSTALL()
{
	mkdir -p $appsDir
	cp -a src/nanodot $appsDir
	addAppDeskbarSymlink $appsDir/nanodot "NanoDot"
}
